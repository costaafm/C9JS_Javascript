var modal = (function() {                         // Declara o objeto modal  var $window = $(window);                        // Guarda a referência à janela global  var $modal = $('<div class="modal"/>');         // Cria uma div para janela  var $content = $('<div class="modal-content"/>');  // div do conteúdo + botão  var $close = $('<button role="button" class="modal-close">close</button>');  $modal.append($content, $close);                // Adiciona botão ao conteúdo da div modal  $close.on('click', function(e){                 // Ao clicar no botão close    e.preventDefault();                           // Anual a ação por defeito    modal.close();                                // Chama o método fechar janela modal  });  return {                                        // Devolve o código da janela modal    center: function() {                          // Define o método center      // Calcula as distâncias do topo esq da janela original      var top = Math.max($window.height() - $modal.outerHeight(), 0) / 2;      var left = Math.max($window.width() - $modal.outerWidth(), 0) / 2;      $modal.css({                                // Define o CSS da janela Modal        top:top + $window.scrollTop(),            // Centra na vertical        left:left + $window.scrollLeft()          // Centra na orizontal      });    },    open: function(settings) {                     // Define o método abrir      $content.empty().append(settings.content);   // Acrecenta o conteúdo à janela modal      $modal.css({                                 // Define as dimensões CSS         width: settings.width || 'auto',           // largura        height: settings.height || 'auto'          // altura      }).appendTo('body');                         // e adiciona-as às página      modal.center();                              // Chama o método center      $(window).on('resize', modal.center);        // Chama método center sempre a que a janela é redimensionada    },    close: function() {                            // Define o método close      $content.empty();                            // Remove o conteúdo da janela modal      $modal.detach();                             // Remove a janela modal da página      $(window).off('resize', modal.center);       // Remove o evento da janela de redimensionar associada ao âmbito global    }  };}());